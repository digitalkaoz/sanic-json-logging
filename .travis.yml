language: python

python:
  - 3.6

install:
  - pip install -Ur requirements-dev.txt
  - pip install .
  - pip install codecov

script:
  - make cov

deploy:
  provider: pypi
  distributions: sdist bdist_wheel
  user: terrycain
  password:
    secure: ZsV9kQmAydDRgfogp+sg1tRDwA8yh9YfU2AqP7fc7cu0kofsevtZ13d45WzIc5TC98Any5p971zEwc6R/x+yAbOjllx4LC5YdeTJQxmc3tT2dWu2oTlIlJ7aUQU5qcBgf5QWkfjaYjOEzEkb2M8tziMkg1Y2LcrgcvLVvob6vOm5lolMMnY05Mytsr6PD3GLaqG6a2XFAmmPPHhySx8P0IV1p43zCE+1Hli0BcQIyjvNayJ1h71wtxcqiIt2rW97F53dLYQWP18GPh0hQEoAb6obYrbFKHTpvtUP3BXvcJTsYczrFKMU/J3lxTF4NEY0idajyErNih+D5ih7Lg9vQbAACtf+YcwbfyKgrA/Ws0rG36IsCVKfwHa4FIPlgiqJpIn0ZffaDF4asUSkTl3vGC44Z7BISf7pakgeA28Ss2AttSwTgfJ8apuiNJWP9m5jpfw6kjpPJhbwAGaDA1OfU5+SU+a/yrUgBFadh6z24WKKO1uCY2YVR4NioGlHWiO71Nk36OZPECfzMcRtvc+wzLISasRL9eGrN48wmBzFR/C/o2NW6rFO+UcBWW3QcR3e+BgMERc/GGSnzkfQi6lcpNzt/BGuaX9CHSADM7ywxb6ESs4X+tRt//ZbmJZ7xnBlllgk4YlIVkfQh3iemsZOoNDNbcTtGqp7kAKr07KuVls=
  on:
    python: 3.6
    repo: terrycain/sanic-json-logging
    tags: true

after_success:
  - codecov
